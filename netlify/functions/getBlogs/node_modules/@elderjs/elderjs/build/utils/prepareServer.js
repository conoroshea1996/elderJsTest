"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.prepareServer = void 0;
function prepareServer({ bootstrapComplete }) {
    // eslint-disable-next-line consistent-return
    return async function prepServer(req, res, next) {
        const { runHook, ...bootstrap } = await bootstrapComplete;
        await runHook('middleware', {
            ...bootstrap,
            runHook,
            req,
            next,
            res,
            request: { type: 'server' },
        });
    };
}
exports.prepareServer = prepareServer;
